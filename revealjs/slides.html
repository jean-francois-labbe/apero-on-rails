<!doctype html>
<html>
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Apéro on Rails</title>

<meta name="description" content="Apéro on Rails">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

  <meta name="author" content="Jean-François Labbé" />

<link rel="stylesheet" href="css/reset.css">
<link rel="stylesheet" href="css/reveal.css">
  <link rel="stylesheet" href="css/theme/white.css" id="theme">

<!-- For syntax highlighting -->
  <link rel="stylesheet" href="lib/css/monokai.css">

<style>
    .reveal h1 {
      margin: 0;
      font-size: 70px;
    }
    .reveal h2 {
      font-size: 40px;
    }
    .reveal .slides {
        text-align: left;
    }
    .reveal .slides > section, .reveal .slides > section > section {
      padding: 10px 0;
    }
    .reveal pre code {
	max-height: initial;
    }
    .reveal .slides section>* {
        margin-left: 0;
        margin-right: 0;
    }
    .reveal section img {
      border: none;
    }
    .reveal .slides ol, .reveal .slides dl, .reveal .slides section ul {
      margin: 0 0 0 1em;
    }

    .reveal  section div pre {
      margin-left: 0;
    }
</style>


		<!-- Printing and PDF exports -->
		<script>
			var link = document.createElement( 'link' );
			link.rel = 'stylesheet';
			link.type = 'text/css';
			link.href = window.location.search.match( /print-pdf/gi ) ? 'css/print/pdf.css' : 'css/print/paper.css';
			document.getElementsByTagName( 'head' )[0].appendChild( link );
		</script>

</head>

<body>

<div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">

<section>
<h1>Apéro on Rails</h1>
<h3>Jean-François Labbé</h3>
<p>
<h4>04 07 2019</h4>
</p>

<img src="img/welcome-rails.png" class="no-border" alt="welcome rails image" height="500" width="750">

</section>


<section id="au-menu" class="level1">
<h1>Au menu</h1>
<ul>
<li>What is Rails?</li>
<li>Démo</li>
</ul>
</section>
<section id="what-is-rails" class="level1">
<h1>What is rails</h1>
<ul>
<li>Framework d’application web type MVC</li>
<li>Langage Ruby</li>
<li>V1.0 en 2005</li>
<li>Créateur David Heinemeier Hansson (DHH)</li>
<li>Extrait d’une application (Basecamp)</li>
</ul>
</section>
<section id="ruby" class="level1">
<h1>Ruby</h1>
<section id="introduction" class="level2">
<h2>Introduction</h2>
<ul>
<li>Première version en 1995 (comme Java)</li>
<li>Inspiré de: Lisp, Samlltalk, Perl, Python</li>
<li>Langage interprété</li>
<li>Orienté Objet</li>
<li>Tout est Objet</li>
</ul>
</section>
<section id="coinci" class="level2">
<h2>Coinci</h2>
<pre><code># Java
public class HelloWorld {
    public static void main(String[] args)
    {
        for (int i = 0; i &lt; 3; i++)
        {
            System.out.println(&quot;Hello, world!&quot;);
        }
    }
}

# Ruby
3.times do
  puts &quot;Hello, world!&quot;
end</code></pre>
</section>
<section id="ruby-basics" class="level2">
<h2>Ruby basics</h2>
<pre><code>welcome = &quot;Hello World&quot;

status = :in_progress # Symbole

array = [1, &quot;Bonjour&quot;, nil] # Tableau non typé

hash = { title: &quot;Apéro&quot;, content: &quot;Ruby on Rails&quot;, attendees: 27 }

nil # représente null</code></pre>
</section>
<section id="ruby-basics-1" class="level2">
<h2>Ruby basics</h2>
<pre><code>array = [-1, -2, -3]

array.map { |number| number.abs } # =&gt; [1, 2, 3]
     .map { |number| number * 2 } # =&gt; [2, 4, 6]</code></pre>
</section>
<section id="keyword-arguments" class="level2">
<h2>Keyword arguments</h2>
<pre><code>def welcome(name: &quot;bob&quot;)
  puts &quot;Welcome #{name}&quot;
end

welcome # =&gt; Welcome bob

welcome(&quot;john&quot;) # =&gt; Welcome john</code></pre>
</section>
<section id="fonctions-names" class="level2">
<h2>Fonctions names</h2>
<pre><code>def saved?
  true
end

def overwrite!
  ...
end</code></pre>
</section>
<section id="class" class="level2">
<h2>Class</h2>
<pre><code>class World
  def initialize(name)
    @name = name # Instance variable
  end

  def name
    @name
  end

  def name=(name)
    @name = name
  end
end
world = World.new(&quot;level 1&quot;)
world.name # =&gt; &quot;level 1&quot;
world.name = &quot;new world&quot; # =&gt; &quot;new world&quot;</code></pre>
</section>
<section id="class-1" class="level2">
<h2>Class</h2>
<pre><code>class World
  attr_accessor :name

  def initialize(name)
    @name = name # Instance variable
  end
end

world = World.new(&quot;level 1&quot;)
world.name # =&gt; &quot;level 1&quot;
world.name = &quot;new world&quot; # =&gt; &quot;new world&quot;</code></pre>
</section>
<section id="tout-est-objet" class="level2">
<h2>Tout est Objet</h2>
<pre><code>1.class # =&gt; Integer

&quot;hello&quot;.class # =&gt; String

1.nil? # =&gt; false

nil.nil? # =&gt; NilClass</code></pre>
</section>
</section>
<section id="rails" class="level1">
<h1>Rails</h1>
<section id="qui-utilise" class="level2">
<h2>Qui utilise</h2>
<p>Github, Gitlab, Airbnb, Shopify, 500px, Twitch, Zendesk</p>
<div class="fragment">
<p>Rails doesn’t scale?</p>
</div>
<div class="fragment">
<p>Shopify: 600_000 site marchands, 80_000 req/s (max) <a href="https://engineering.shopify.com/blogs/engineering/e-commerce-at-scale-inside-shopifys-tech-stack">Source 2018</a></p>
</div>
</section>
<section id="qui-utilise-en-open-source" class="level2">
<h2>Qui utilise En Open Source</h2>
<p><a href="https://github.com/thepracticaldev/dev.to">Dev.to</a>, <a href="https://github.com/discourse/discourse">Discourse</a>, <a href="https://github.com/alphagov/e-petitions">E-petitions</a>, <a href="https://gitlab.com/gitlab-org/gitlab-ce">Gitlab</a>, <a href="https://github.com/tootsuite/mastodon">Mastodon</a>, <a href="https://github.com/rubygems/rubygems.org">Rubygems</a>…</p>
</section>
<section id="présentation" class="level2">
<h2>Présentation</h2>
<ul>
<li>Sélection d’outils</li>
<li>Convention over Configuration</li>
<li>DRY (don’t repeat yourself)</li>
<li>CRUD (Create, Read, Update, Delete)</li>
<li>REST (Representational state transfer)</li>
<li>Basé sur Rack <a href="https://rack.github.io/">Ruby Webserver Interface</a></li>
</ul>
</section>
<section id="rails-6.0" class="level2">
<h2>Rails 6.0</h2>
<ul>
<li>Parallel testing</li>
<li>Wepacker</li>
<li>Multiple databases</li>
<li>ActionMailbox</li>
<li>ActionText</li>
</ul>
</section>
<section id="avantages" class="level2">
<h2>Avantages</h2>
<ul>
<li>Développement rapide</li>
<li>Beaucoup de librairies</li>
<li>Maintenabilité</li>
<li>Intégrations (front, apis, services)</li>
<li>Tests</li>
</ul>
</section>
<section id="pour-quel-projet" class="level2">
<h2>Pour quel projet</h2>
<ul>
<li>Une appli web</li>
<li>E-commerce</li>
<li>Prototypes</li>
</ul>
</section>
<section id="structure" class="level2">
<h2>Structure</h2>
<pre><code>├── app
│   ├── assets
│   ├── channels
│   ├── controllers
│   ├── helpers
│   ├── javascript
│   ├── jobs
│   ├── mailers
│   ├── models
│   └── views
├── Gemfile
├── db
│   └── migrate</code></pre>
</section>
<section id="structure-1" class="level2">
<h2>Structure</h2>
<pre><code>├── log
├── public
├── test
│   ├── channels
│   ├── controllers
│   ├── fixtures
│   ├── helpers
│   ├── integration
│   ├── mailers
│   ├── models
│   ├── system</code></pre>
</section>
<section id="les-outils" class="level2">
<h2>Les outils</h2>
<ul>
<li>Migrations de la base de données</li>
<li>Gestionnaire de dépendances</li>
<li>Générateurs</li>
<li>Console</li>
</ul>
</section>
<section id="les-gems" class="level2">
<h2>Les Gems</h2>
<ul>
<li>Administration: Administrate, ActiveAdmin</li>
<li>Authentification: Devise</li>
<li>Autorisation: ActionPolicy, CanCanCan, Pundit</li>
<li>Async jobs: Sidekick</li>
<li>Login Google, Facebook, Twitter: Omniauth</li>
</ul>
</section>
<section id="les-gems-2" class="level2">
<h2>Les Gems 2</h2>
<ul>
<li>Elasticsearch: Searchkick</li>
<li>Feature flags: Flipper</li>
<li>Filtering: Ransack</li>
<li>Kafka: Karafka</li>
<li>Mock http: Vcr</li>
</ul>
</section>
<section id="erb-template-des-vues" class="level2">
<h2>ERB: Template des vues</h2>
<pre><code>&lt;h1&gt;Apéro on Rails&lt;/h1&gt;
&lt;p&gt;Time: &lt;%= Time.now %&gt;&lt;/p&gt;</code></pre>
</section>
<section id="erb-template-des-vues-1" class="level2">
<h2>ERB: Template des vues</h2>
<p>controllers/posts_controller.rb</p>
<pre><code>def index
  @posts = Post.all
end</code></pre>
<p>posts/index.html.erb</p>
<pre><code>&lt;h1&gt;Les posts&lt;/h1&gt;
&lt;% @posts.each do |post| %&gt;
  &lt;h2&gt;&lt;%= @post.title %&gt;&lt;/h2&gt;
  &lt;p&gt;&lt;%= @post.content %&gt;&lt;/p&gt;
&lt;% end %&gt;</code></pre>
</section>
<section id="erb-template-des-vues-2" class="level2">
<h2>ERB: Template des vues</h2>
<p>controllers/posts_controller.rb</p>
<pre><code>def index
  @posts = Post.all
end</code></pre>
<p>posts/index.html.erb</p>
<pre><code>&lt;h1&gt;Les posts&lt;/h1&gt;
&lt;% @posts.each do |post| %&gt;
  &lt;%= render post %&gt;
&lt;% end %&gt;</code></pre>
<p>posts/_post.html.erb</p>
<pre><code>&lt;h2&gt;&lt;%= @post.title %&gt;&lt;/h2&gt;
&lt;p&gt;&lt;%= @post.content %&gt;&lt;/p&gt;</code></pre>
</section>
<section id="configroutes.rb" class="level2">
<h2>config/routes.rb</h2>
<pre><code>Rails.application.routes.draw do
  resources :posts
end</code></pre>
</section>
<section id="routes" class="level2">
<h2>Routes</h2>
<table>
<thead>
<tr class="header">
<th>url</th>
<th>Posts controlleur</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>GET /posts</td>
<td>#index</td>
</tr>
<tr class="even">
<td>GET /posts/:id</td>
<td>#show</td>
</tr>
<tr class="odd">
<td>GET /posts/new</td>
<td>#new</td>
</tr>
<tr class="even">
<td>POST /posts</td>
<td>#create</td>
</tr>
<tr class="odd">
<td>GET /posts/:id/edit</td>
<td>#edit</td>
</tr>
<tr class="even">
<td>PUT /posts/id</td>
<td>#update</td>
</tr>
<tr class="odd">
<td>DELETE /posts/id</td>
<td>#destroy</td>
</tr>
</tbody>
</table>
</section>
<section id="créons-un-blog" class="level2">
<h2>Créons un blog</h2>
<p>Un blog est composé d’articles Un article a des commentaires</p>
</section>
<section id="créer-une-resource" class="level2">
<h2>Créer une resource</h2>
<pre><code>rails generate scaffold article title content:text</code></pre>
</section>
<section id="une-migration" class="level2">
<h2>Une migration</h2>
<pre><code>class CreateArticles &lt; ActiveRecord::Migration[6.0]
  def change
    create_table :articles do |t|
      t.string :title
      t.text :content

      t.timestamps
    end
  end
end</code></pre>
</section>
<section id="un-modèle" class="level2">
<h2>Un Modèle</h2>
<pre><code>class Article &lt; ApplicationRecord
end</code></pre>
<p>vide?</p>
</section>
<section id="controlleur" class="level2">
<h2>Controlleur</h2>
</section>
</section>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.js"></script>

<script>
  // Full list of configuration options available here:
  // https://github.com/hakimel/reveal.js#configuration
  Reveal.initialize({
    controls: true,
    progress: true,
    slideNumber: true,
    center: false,
    history: true,
    hash: true,
    center: false,
    showNotes: true,
    width: 1200,
    mouseWheel: true,

  // available themes are in /css/theme
      theme: Reveal.getQueryHash().theme || 'white',
  
  // default/cube/page/concave/zoom/linear/fade/none
      transition: Reveal.getQueryHash().transition || 'none',
  
  // Optional libraries used to extend on reveal.js
dependencies: [
					{ src: 'plugin/markdown/marked.js' },
					{ src: 'plugin/markdown/markdown.js' },
					{ src: 'plugin/notes/notes.js', async: true },
					{ src: 'plugin/highlight/highlight.js', async: true }
				]
  });

</script>

</body>
</html>
